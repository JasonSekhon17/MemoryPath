<!DOCTYPE html>

<html>
<head>
	<title></title>
	<style type="text/css">
		body{
			width:100%;
			height: 900px;
		}
		div{
			width:80%;
			height: 200px;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
	<script>
		function Countdown(){
			//time declared
			this.start_time = "00:05:00";
			this.target_id="#timer";
			this.name = "timer";
		}
		// execute other functions
		Countdown.prototype.init = function(){
			this.reset();
			setInterval(this.name + '.tick()', 10);
		}
		// divide time declared into min, second and millisecond
		// storaged in an array whose values are able to be used 
		//individually
		Countdown.prototype.reset = function(){
			time = this.start_time.split(":");
			this.minutes = parseInt(time[0]);
			this.seconds = parseInt(time[1]);
			this.milliSecond = parseInt(time[2]);
			this.update_target();
		}
		// basic calculation decrementing time as countdown.
		Countdown.prototype.tick= function(){
			if(this.seconds > 0 || this.minutes > 0 || this.milliSecond > 0){
				if(milliSecond == 0){
					this.milliSecond = 99;
					if(this.seconds == 0){
						this.minutes = this.minutes -1;
						this.seconds = 59;
					}else {
					this.seconds = this.seconds -1;
					}
				}else {
					this.milliSecond--;
				}
			}
			this.update_target();
		}
		// update a new time from tick function every 10 millisecond
		Countdown.prototype.update_target = function(){
			milliSecond = this.milliSecond;
			seconds = this.seconds;
			minutes = this.minutes;
			if(milliSecond< 10) milliSecond = "0"+ milliSecond;
			if(seconds <10) seconds = "0" + seconds;
			if(minutes<10) minutes = "0" + minutes;
			if(minutes==0&&seconds==0&&milliSecond==0){
				$(this.target_id).html("Countdown Done");
				/*
				if(life>0){
					life--;
					startoverSameStage();
				}else{
					stageClearScreen();
                	calculateScore();
                	showScoreAchieved();
                	addToTotalScore();
                	gameover(); // lead to gameover page
				}
				*/

			}else{
				$(this.target_id).html(minutes+":"+seconds+":"+milliSecond);

				/*
				if (gameClear) {
	                stageClearScreen();
	                calculateScore();
	                showScoreAchieved();
	                addToTotalScore();
	                startNewStage();
	            }
				*/
			}
		}

	</script>
</head>
<body>
	
	<div id="timer"></div>
	<script type="text/javascript">
		timer = new Countdown();
		timer.init();
	</script>
</body>
</html>